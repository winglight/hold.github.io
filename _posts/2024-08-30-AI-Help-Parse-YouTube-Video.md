# AI助我写代码（3）：解析YouTube频道内容风格

## 综述

* 起因是我想给YouTube某个频道投稿，我的思路是分析历史视频的脚本，然后借助AI提供主题和大纲
* 经过反复尝试，AI（Claude3.5）可以实现脚本解析和导入功能，分析创意有点弱，我还是改用chatgpt-4o完成后面的步骤
* 代码开源仓库：[Parse-Yt-Channels](https://github.com/winglight/Parse-Yt-Channels)

## 操作视频（TODO）

## 需求
1. 因为我并不了解具体实现步骤，所以只有模糊的想法，只能尝试跟AI的交互看看效果
   
## 操作步骤

1. 我直接给AI一个想法，提示词如下：
   ```
   我想对一个YouTube频道投稿，这是一个中文频道，平时的内容偏向时政、历史等主题，我希望通过采集过去的视频脚本，分析主要风格，然后推荐脚本主题和大纲，大概基于RAG实现
   ```

2. 按照AI的反馈，我整理了具体的要求，提示词如下：
   ```
   1. 是希望确保投稿内容符合频道的风格
   2. 频道地址：https://www.youtube.com/频道id/videos
   需要通过程序爬取视频脚本
   3. 首先需要一个频道整体风格的描述，然后给出合适的选题及对应的大纲
   4. 然后需要给出一个爬取脚本的代码，并且保存到类似chroma这种矢量数据库中
   其次要给出基于这个适量数据库，如何输出第三点中的内容，也需要提供代码实现
   5. 频道所有视频的URL地址已经爬取到，如何解析脚本并保存还没实现
   6. 主要看输出的代码是否有效，是否能够生成合适的投稿主题
   ```

   我发现AI的代码很粗糙，问题很多，后面我试着一步步改进

3. 我想基于langchain可能更有扩展性，而且我本地有ollama应该好过bart模型，提示词如下：
   ```
   将以上代码基于langchain重新实现一遍，其中embedding模型使用ollama/nomic-embed-text，llm模型使用ollama/llama3
   ```

4. 然后我想把本地chroma换成astradb，因为云上的数据库方便不同运行环境的访问，提示词如下：
   ```
   把chroma替换成astradb，依然使用langchain提供的封装
   ```

5. 跟之前的几个软件类似，我希望长时间运行时能实时显示进度，提示词如下：
   ```
   在代码中加入对于长时间运行的任务进行计时并打印的功能
   ```

   结果发现这样做毫无意义，因为运行速度其实很快。